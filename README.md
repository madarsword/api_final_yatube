# API для Yatube
![API](https://pictures.s3.yandex.net/resources/Samostoiatelnyi_proekt_1587107131.svg)

## Описание проекта
Был создан **REST API для Yatube**. 
Через его интерфейс могут работать мобильное приложение. Также через него можно передавать данные в любое приложение или на фронтенд.
Документация для API блога Yatube доступна по адресу:  *http://127.0.0.1:8000/redoc/*. На ней написана программная часть API.
В проекте исключены фронтенд и view-функции приложения *posts*.

***Ключевые моменты:***
- Использованы вьюсеты
    - Для аутентификации использованы JWT-токены (библиотека Djoser)
        - У неаутентифицированных пользователей доступ к API только на чтение (исключение — эндпоинт /follow/)
            - Можно публиковать посты
            - Отслеживать посты
            - Отслеживать посты определённого автора
            - Отслеживать новые комментарии к своим постам
        - Аутентифицированным пользователям разрешено изменение и удаление своего контента
    - Добавление новых пользователей через API не используется
- Для проверки прав в DRF использованы пермишены + собственные классы разрешений

## Установка и запуск проекта на Windows
> Клонирование репозитория:
```
git clone git@github.com:madarsword/api_final_yatube.git
```
> Cоздание виртуального окружения:
```
python -m venv venv
```
> Активация виртуального окружения:
```
. venv/Scripts/activate
```
> Обновления PIP:
```
python -m pip install --upgrade pip
```
> Установка зависимостей (из файла requirements.txt):
```
pip install -r requirements.txt
```
> Выполнение миграций:
```
python manage.py makemigrations
python manage.py migrate
```
> Запуск веб-сервера:
```
python manage.py runserver
```

## Примеры запросов
> Получение публикаций (c указанием параметров limit и offset):
```
GET
/api/v1/posts/
```

> Добавление нового комментария к публикации (анонимные запросы запрещены):
```
POST
/api/v1/posts/{post_id}/comments/
```

> Обновление публикации по id (анонимные запросы запрещены):
```
PUT
/api/v1/posts/{id}/
```

> Частичное обновление публикации по id (анонимные запросы запрещены):
```
PATCH
/api/v1/posts/{id}/
```

> Удаление публикации по id (анонимные запросы запрещены):
```
DELETE
/api/v1/posts/{id}/
```

### Автор проекта — Александр Шпара